{"abi":[{"type":"error","name":"CannotUpdateEmptyPosition","inputs":[]}],"bytecode":{"object":"0x6055604b600b8282823980515f1a607314603f577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea2646970667358221220d29be18e28aa8f9ba8c7caede420ce1b08a09b5c015e361ec0fd4ec04e02256e64736f6c634300081a0033","sourceMap":"456:4356:88:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f80fdfea2646970667358221220d29be18e28aa8f9ba8c7caede420ce1b08a09b5c015e361ec0fd4ec04e02256e64736f6c634300081a0033","sourceMap":"456:4356:88:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"CannotUpdateEmptyPosition\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"Positions store additional state for tracking fees owed to the position\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Position\",\"version\":1},\"userdoc\":{\"errors\":{\"CannotUpdateEmptyPosition()\":[{\"notice\":\"Cannot update a position with no liquidity\"}]},\"kind\":\"user\",\"methods\":{},\"notice\":\"Positions represent an owner address' liquidity between a lower and upper tick boundary\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v4-periphery/lib/v4-core/src/libraries/Position.sol\":\"Position\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/\",\":ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":permit2/=lib/v4-periphery/lib/permit2/\",\":solmate/=lib/v4-core/lib/solmate/\",\":v4-core/=lib/v4-core/src/\",\":v4-periphery/=lib/v4-periphery/src/\"]},\"sources\":{\"lib/v4-periphery/lib/v4-core/src/libraries/CustomRevert.sol\":{\"keccak256\":\"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd\",\"dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt\"]},\"lib/v4-periphery/lib/v4-core/src/libraries/FixedPoint128.sol\":{\"keccak256\":\"0xad236e10853f4b4b20a35a9bb52b857c4fc79874846b7e444e06ead7f2630542\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0de1f9a06520b1a689660943faa14fc0b8344ab41fab9e6012ea34bff4b9b3eb\",\"dweb:/ipfs/QmRNMPTyko7W6d6KxuTsnDBa9oZgDK4xiwRRq3H9ASTbwy\"]},\"lib/v4-periphery/lib/v4-core/src/libraries/FullMath.sol\":{\"keccak256\":\"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52\",\"dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC\"]},\"lib/v4-periphery/lib/v4-core/src/libraries/LiquidityMath.sol\":{\"keccak256\":\"0x000ef2eadcc1eb7b2c18a77655f94e76e0e860f605783484657ef65fd6eda353\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a766b620a7a22798b43c6c1f23b5c6cff0ebf588deb89842bad05208d448cd99\",\"dweb:/ipfs/QmVKjaFJdzkqA3ey2Byum8iTCMssWVD8MmVC8rw62Tj5WD\"]},\"lib/v4-periphery/lib/v4-core/src/libraries/Position.sol\":{\"keccak256\":\"0xddab2a831f1befb6abf5567e77c4582169ca8156cf69eb4f22d8e87f7226a3f9\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://c79fe61b50f3b70cff503abfa6f5643fcbefb9b794855bee1019b1e6d9c083b2\",\"dweb:/ipfs/QmbKmYNQesaMz8bo1b7TMHQcAwaDd3eDPrE5pAdPPZTtk5\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"CannotUpdateEmptyPosition"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/","ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","hardhat/=lib/v4-core/node_modules/hardhat/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","permit2/=lib/v4-periphery/lib/permit2/","solmate/=lib/v4-core/lib/solmate/","v4-core/=lib/v4-core/src/","v4-periphery/=lib/v4-periphery/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/v4-periphery/lib/v4-core/src/libraries/Position.sol":"Position"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/v4-periphery/lib/v4-core/src/libraries/CustomRevert.sol":{"keccak256":"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de","urls":["bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd","dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt"],"license":"MIT"},"lib/v4-periphery/lib/v4-core/src/libraries/FixedPoint128.sol":{"keccak256":"0xad236e10853f4b4b20a35a9bb52b857c4fc79874846b7e444e06ead7f2630542","urls":["bzz-raw://0de1f9a06520b1a689660943faa14fc0b8344ab41fab9e6012ea34bff4b9b3eb","dweb:/ipfs/QmRNMPTyko7W6d6KxuTsnDBa9oZgDK4xiwRRq3H9ASTbwy"],"license":"MIT"},"lib/v4-periphery/lib/v4-core/src/libraries/FullMath.sol":{"keccak256":"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2","urls":["bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52","dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC"],"license":"MIT"},"lib/v4-periphery/lib/v4-core/src/libraries/LiquidityMath.sol":{"keccak256":"0x000ef2eadcc1eb7b2c18a77655f94e76e0e860f605783484657ef65fd6eda353","urls":["bzz-raw://a766b620a7a22798b43c6c1f23b5c6cff0ebf588deb89842bad05208d448cd99","dweb:/ipfs/QmVKjaFJdzkqA3ey2Byum8iTCMssWVD8MmVC8rw62Tj5WD"],"license":"MIT"},"lib/v4-periphery/lib/v4-core/src/libraries/Position.sol":{"keccak256":"0xddab2a831f1befb6abf5567e77c4582169ca8156cf69eb4f22d8e87f7226a3f9","urls":["bzz-raw://c79fe61b50f3b70cff503abfa6f5643fcbefb9b794855bee1019b1e6d9c083b2","dweb:/ipfs/QmbKmYNQesaMz8bo1b7TMHQcAwaDd3eDPrE5pAdPPZTtk5"],"license":"BUSL-1.1"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"lib/v4-periphery/lib/v4-core/src/libraries/Position.sol","id":56399,"exportedSymbols":{"CustomRevert":[52952],"FixedPoint128":[52959],"FullMath":[53137],"LiquidityMath":[54471],"Position":[56398]},"nodeType":"SourceUnit","src":"37:4776:88","nodes":[{"id":56234,"nodeType":"PragmaDirective","src":"37:23:88","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":56236,"nodeType":"ImportDirective","src":"62:40:88","nodes":[],"absolutePath":"lib/v4-periphery/lib/v4-core/src/libraries/FullMath.sol","file":"./FullMath.sol","nameLocation":"-1:-1:-1","scope":56399,"sourceUnit":53138,"symbolAliases":[{"foreign":{"id":56235,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53137,"src":"70:8:88","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":56238,"nodeType":"ImportDirective","src":"103:50:88","nodes":[],"absolutePath":"lib/v4-periphery/lib/v4-core/src/libraries/FixedPoint128.sol","file":"./FixedPoint128.sol","nameLocation":"-1:-1:-1","scope":56399,"sourceUnit":52960,"symbolAliases":[{"foreign":{"id":56237,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52959,"src":"111:13:88","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":56240,"nodeType":"ImportDirective","src":"154:50:88","nodes":[],"absolutePath":"lib/v4-periphery/lib/v4-core/src/libraries/LiquidityMath.sol","file":"./LiquidityMath.sol","nameLocation":"-1:-1:-1","scope":56399,"sourceUnit":54472,"symbolAliases":[{"foreign":{"id":56239,"name":"LiquidityMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54471,"src":"162:13:88","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":56242,"nodeType":"ImportDirective","src":"205:48:88","nodes":[],"absolutePath":"lib/v4-periphery/lib/v4-core/src/libraries/CustomRevert.sol","file":"./CustomRevert.sol","nameLocation":"-1:-1:-1","scope":56399,"sourceUnit":52953,"symbolAliases":[{"foreign":{"id":56241,"name":"CustomRevert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52952,"src":"213:12:88","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":56398,"nodeType":"ContractDefinition","src":"456:4356:88","nodes":[{"id":56246,"nodeType":"UsingForDirective","src":"479:30:88","nodes":[],"global":false,"libraryName":{"id":56244,"name":"CustomRevert","nameLocations":["485:12:88"],"nodeType":"IdentifierPath","referencedDeclaration":52952,"src":"485:12:88"},"typeName":{"id":56245,"name":"bytes4","nodeType":"ElementaryTypeName","src":"502:6:88","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}},{"id":56249,"nodeType":"ErrorDefinition","src":"574:34:88","nodes":[],"documentation":{"id":56247,"nodeType":"StructuredDocumentation","src":"515:54:88","text":"@notice Cannot update a position with no liquidity"},"errorSelector":"aefeb924","name":"CannotUpdateEmptyPosition","nameLocation":"580:25:88","parameters":{"id":56248,"nodeType":"ParameterList","parameters":[],"src":"605:2:88"}},{"id":56256,"nodeType":"StructDefinition","src":"658:281:88","nodes":[],"canonicalName":"Position.State","members":[{"constant":false,"id":56251,"mutability":"mutable","name":"liquidity","nameLocation":"747:9:88","nodeType":"VariableDeclaration","scope":56256,"src":"739:17:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":56250,"name":"uint128","nodeType":"ElementaryTypeName","src":"739:7:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":56253,"mutability":"mutable","name":"feeGrowthInside0LastX128","nameLocation":"866:24:88","nodeType":"VariableDeclaration","scope":56256,"src":"858:32:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":56252,"name":"uint256","nodeType":"ElementaryTypeName","src":"858:7:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":56255,"mutability":"mutable","name":"feeGrowthInside1LastX128","nameLocation":"908:24:88","nodeType":"VariableDeclaration","scope":56256,"src":"900:32:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":56254,"name":"uint256","nodeType":"ElementaryTypeName","src":"900:7:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"State","nameLocation":"665:5:88","scope":56398,"visibility":"public"},{"id":56292,"nodeType":"FunctionDefinition","src":"1464:323:88","nodes":[],"body":{"id":56291,"nodeType":"Block","src":"1655:132:88","nodes":[],"statements":[{"assignments":[56277],"declarations":[{"constant":false,"id":56277,"mutability":"mutable","name":"positionKey","nameLocation":"1673:11:88","nodeType":"VariableDeclaration","scope":56291,"src":"1665:19:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":56276,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1665:7:88","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":56284,"initialValue":{"arguments":[{"id":56279,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56264,"src":"1708:5:88","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":56280,"name":"tickLower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56266,"src":"1715:9:88","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":56281,"name":"tickUpper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56268,"src":"1726:9:88","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":56282,"name":"salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56270,"src":"1737:4:88","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":56278,"name":"calculatePositionKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56308,"src":"1687:20:88","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_int24_$_t_int24_$_t_bytes32_$returns$_t_bytes32_$","typeString":"function (address,int24,int24,bytes32) pure returns (bytes32)"}},"id":56283,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1687:55:88","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"1665:77:88"},{"expression":{"id":56289,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":56285,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56274,"src":"1752:8:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":56286,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56262,"src":"1763:4:88","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$56256_storage_$","typeString":"mapping(bytes32 => struct Position.State storage ref)"}},"id":56288,"indexExpression":{"id":56287,"name":"positionKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56277,"src":"1768:11:88","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1763:17:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage","typeString":"struct Position.State storage ref"}},"src":"1752:28:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":56290,"nodeType":"ExpressionStatement","src":"1752:28:88"}]},"documentation":{"id":56257,"nodeType":"StructuredDocumentation","src":"945:514:88","text":"@notice Returns the State struct of a position, given an owner and position boundaries\n @param self The mapping containing all user positions\n @param owner The address of the position owner\n @param tickLower The lower tick boundary of the position\n @param tickUpper The upper tick boundary of the position\n @param salt A unique value to differentiate between multiple positions in the same range\n @return position The position info struct of the given owners' position"},"implemented":true,"kind":"function","modifiers":[],"name":"get","nameLocation":"1473:3:88","parameters":{"id":56271,"nodeType":"ParameterList","parameters":[{"constant":false,"id":56262,"mutability":"mutable","name":"self","nameLocation":"1511:4:88","nodeType":"VariableDeclaration","scope":56292,"src":"1477:38:88","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$56256_storage_$","typeString":"mapping(bytes32 => struct Position.State)"},"typeName":{"id":56261,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":56258,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1485:7:88","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1477:25:88","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$56256_storage_$","typeString":"mapping(bytes32 => struct Position.State)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":56260,"nodeType":"UserDefinedTypeName","pathNode":{"id":56259,"name":"State","nameLocations":["1496:5:88"],"nodeType":"IdentifierPath","referencedDeclaration":56256,"src":"1496:5:88"},"referencedDeclaration":56256,"src":"1496:5:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State"}}},"visibility":"internal"},{"constant":false,"id":56264,"mutability":"mutable","name":"owner","nameLocation":"1525:5:88","nodeType":"VariableDeclaration","scope":56292,"src":"1517:13:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":56263,"name":"address","nodeType":"ElementaryTypeName","src":"1517:7:88","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":56266,"mutability":"mutable","name":"tickLower","nameLocation":"1538:9:88","nodeType":"VariableDeclaration","scope":56292,"src":"1532:15:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":56265,"name":"int24","nodeType":"ElementaryTypeName","src":"1532:5:88","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":56268,"mutability":"mutable","name":"tickUpper","nameLocation":"1555:9:88","nodeType":"VariableDeclaration","scope":56292,"src":"1549:15:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":56267,"name":"int24","nodeType":"ElementaryTypeName","src":"1549:5:88","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":56270,"mutability":"mutable","name":"salt","nameLocation":"1574:4:88","nodeType":"VariableDeclaration","scope":56292,"src":"1566:12:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":56269,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1566:7:88","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1476:103:88"},"returnParameters":{"id":56275,"nodeType":"ParameterList","parameters":[{"constant":false,"id":56274,"mutability":"mutable","name":"position","nameLocation":"1641:8:88","nodeType":"VariableDeclaration","scope":56292,"src":"1627:22:88","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State"},"typeName":{"id":56273,"nodeType":"UserDefinedTypeName","pathNode":{"id":56272,"name":"State","nameLocations":["1627:5:88"],"nodeType":"IdentifierPath","referencedDeclaration":56256,"src":"1627:5:88"},"referencedDeclaration":56256,"src":"1627:5:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State"}},"visibility":"internal"}],"src":"1626:24:88"},"scope":56398,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":56308,"nodeType":"FunctionDefinition","src":"2184:878:88","nodes":[],"body":{"id":56307,"nodeType":"Block","src":"2349:713:88","nodes":[],"statements":[{"AST":{"nativeSrc":"2472:584:88","nodeType":"YulBlock","src":"2472:584:88","statements":[{"nativeSrc":"2486:22:88","nodeType":"YulVariableDeclaration","src":"2486:22:88","value":{"arguments":[{"kind":"number","nativeSrc":"2503:4:88","nodeType":"YulLiteral","src":"2503:4:88","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"2497:5:88","nodeType":"YulIdentifier","src":"2497:5:88"},"nativeSrc":"2497:11:88","nodeType":"YulFunctionCall","src":"2497:11:88"},"variables":[{"name":"fmp","nativeSrc":"2490:3:88","nodeType":"YulTypedName","src":"2490:3:88","type":""}]},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2532:3:88","nodeType":"YulIdentifier","src":"2532:3:88"},{"kind":"number","nativeSrc":"2537:4:88","nodeType":"YulLiteral","src":"2537:4:88","type":"","value":"0x26"}],"functionName":{"name":"add","nativeSrc":"2528:3:88","nodeType":"YulIdentifier","src":"2528:3:88"},"nativeSrc":"2528:14:88","nodeType":"YulFunctionCall","src":"2528:14:88"},{"name":"salt","nativeSrc":"2544:4:88","nodeType":"YulIdentifier","src":"2544:4:88"}],"functionName":{"name":"mstore","nativeSrc":"2521:6:88","nodeType":"YulIdentifier","src":"2521:6:88"},"nativeSrc":"2521:28:88","nodeType":"YulFunctionCall","src":"2521:28:88"},"nativeSrc":"2521:28:88","nodeType":"YulExpressionStatement","src":"2521:28:88"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2589:3:88","nodeType":"YulIdentifier","src":"2589:3:88"},{"kind":"number","nativeSrc":"2594:4:88","nodeType":"YulLiteral","src":"2594:4:88","type":"","value":"0x06"}],"functionName":{"name":"add","nativeSrc":"2585:3:88","nodeType":"YulIdentifier","src":"2585:3:88"},"nativeSrc":"2585:14:88","nodeType":"YulFunctionCall","src":"2585:14:88"},{"name":"tickUpper","nativeSrc":"2601:9:88","nodeType":"YulIdentifier","src":"2601:9:88"}],"functionName":{"name":"mstore","nativeSrc":"2578:6:88","nodeType":"YulIdentifier","src":"2578:6:88"},"nativeSrc":"2578:33:88","nodeType":"YulFunctionCall","src":"2578:33:88"},"nativeSrc":"2578:33:88","nodeType":"YulExpressionStatement","src":"2578:33:88"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2651:3:88","nodeType":"YulIdentifier","src":"2651:3:88"},{"kind":"number","nativeSrc":"2656:4:88","nodeType":"YulLiteral","src":"2656:4:88","type":"","value":"0x03"}],"functionName":{"name":"add","nativeSrc":"2647:3:88","nodeType":"YulIdentifier","src":"2647:3:88"},"nativeSrc":"2647:14:88","nodeType":"YulFunctionCall","src":"2647:14:88"},{"name":"tickLower","nativeSrc":"2663:9:88","nodeType":"YulIdentifier","src":"2663:9:88"}],"functionName":{"name":"mstore","nativeSrc":"2640:6:88","nodeType":"YulIdentifier","src":"2640:6:88"},"nativeSrc":"2640:33:88","nodeType":"YulFunctionCall","src":"2640:33:88"},"nativeSrc":"2640:33:88","nodeType":"YulExpressionStatement","src":"2640:33:88"},{"expression":{"arguments":[{"name":"fmp","nativeSrc":"2709:3:88","nodeType":"YulIdentifier","src":"2709:3:88"},{"name":"owner","nativeSrc":"2714:5:88","nodeType":"YulIdentifier","src":"2714:5:88"}],"functionName":{"name":"mstore","nativeSrc":"2702:6:88","nodeType":"YulIdentifier","src":"2702:6:88"},"nativeSrc":"2702:18:88","nodeType":"YulFunctionCall","src":"2702:18:88"},"nativeSrc":"2702:18:88","nodeType":"YulExpressionStatement","src":"2702:18:88"},{"nativeSrc":"2749:46:88","nodeType":"YulAssignment","src":"2749:46:88","value":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2778:3:88","nodeType":"YulIdentifier","src":"2778:3:88"},{"kind":"number","nativeSrc":"2783:4:88","nodeType":"YulLiteral","src":"2783:4:88","type":"","value":"0x0c"}],"functionName":{"name":"add","nativeSrc":"2774:3:88","nodeType":"YulIdentifier","src":"2774:3:88"},"nativeSrc":"2774:14:88","nodeType":"YulFunctionCall","src":"2774:14:88"},{"kind":"number","nativeSrc":"2790:4:88","nodeType":"YulLiteral","src":"2790:4:88","type":"","value":"0x3a"}],"functionName":{"name":"keccak256","nativeSrc":"2764:9:88","nodeType":"YulIdentifier","src":"2764:9:88"},"nativeSrc":"2764:31:88","nodeType":"YulFunctionCall","src":"2764:31:88"},"variableNames":[{"name":"positionKey","nativeSrc":"2749:11:88","nodeType":"YulIdentifier","src":"2749:11:88"}]},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2883:3:88","nodeType":"YulIdentifier","src":"2883:3:88"},{"kind":"number","nativeSrc":"2888:4:88","nodeType":"YulLiteral","src":"2888:4:88","type":"","value":"0x40"}],"functionName":{"name":"add","nativeSrc":"2879:3:88","nodeType":"YulIdentifier","src":"2879:3:88"},"nativeSrc":"2879:14:88","nodeType":"YulFunctionCall","src":"2879:14:88"},{"kind":"number","nativeSrc":"2895:1:88","nodeType":"YulLiteral","src":"2895:1:88","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"2872:6:88","nodeType":"YulIdentifier","src":"2872:6:88"},"nativeSrc":"2872:25:88","nodeType":"YulFunctionCall","src":"2872:25:88"},"nativeSrc":"2872:25:88","nodeType":"YulExpressionStatement","src":"2872:25:88"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2943:3:88","nodeType":"YulIdentifier","src":"2943:3:88"},{"kind":"number","nativeSrc":"2948:4:88","nodeType":"YulLiteral","src":"2948:4:88","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2939:3:88","nodeType":"YulIdentifier","src":"2939:3:88"},"nativeSrc":"2939:14:88","nodeType":"YulFunctionCall","src":"2939:14:88"},{"kind":"number","nativeSrc":"2955:1:88","nodeType":"YulLiteral","src":"2955:1:88","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"2932:6:88","nodeType":"YulIdentifier","src":"2932:6:88"},"nativeSrc":"2932:25:88","nodeType":"YulFunctionCall","src":"2932:25:88"},"nativeSrc":"2932:25:88","nodeType":"YulExpressionStatement","src":"2932:25:88"},{"expression":{"arguments":[{"name":"fmp","nativeSrc":"3021:3:88","nodeType":"YulIdentifier","src":"3021:3:88"},{"kind":"number","nativeSrc":"3026:1:88","nodeType":"YulLiteral","src":"3026:1:88","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"3014:6:88","nodeType":"YulIdentifier","src":"3014:6:88"},"nativeSrc":"3014:14:88","nodeType":"YulFunctionCall","src":"3014:14:88"},"nativeSrc":"3014:14:88","nodeType":"YulExpressionStatement","src":"3014:14:88"}]},"evmVersion":"cancun","externalReferences":[{"declaration":56295,"isOffset":false,"isSlot":false,"src":"2714:5:88","valueSize":1},{"declaration":56304,"isOffset":false,"isSlot":false,"src":"2749:11:88","valueSize":1},{"declaration":56301,"isOffset":false,"isSlot":false,"src":"2544:4:88","valueSize":1},{"declaration":56297,"isOffset":false,"isSlot":false,"src":"2663:9:88","valueSize":1},{"declaration":56299,"isOffset":false,"isSlot":false,"src":"2601:9:88","valueSize":1}],"flags":["memory-safe"],"id":56306,"nodeType":"InlineAssembly","src":"2447:609:88"}]},"documentation":{"id":56293,"nodeType":"StructuredDocumentation","src":"1793:386:88","text":"@notice A helper function to calculate the position key\n @param owner The address of the position owner\n @param tickLower the lower tick boundary of the position\n @param tickUpper the upper tick boundary of the position\n @param salt A unique value to differentiate between multiple positions in the same range, by the same owner. Passed in by the caller."},"implemented":true,"kind":"function","modifiers":[],"name":"calculatePositionKey","nameLocation":"2193:20:88","parameters":{"id":56302,"nodeType":"ParameterList","parameters":[{"constant":false,"id":56295,"mutability":"mutable","name":"owner","nameLocation":"2222:5:88","nodeType":"VariableDeclaration","scope":56308,"src":"2214:13:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":56294,"name":"address","nodeType":"ElementaryTypeName","src":"2214:7:88","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":56297,"mutability":"mutable","name":"tickLower","nameLocation":"2235:9:88","nodeType":"VariableDeclaration","scope":56308,"src":"2229:15:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":56296,"name":"int24","nodeType":"ElementaryTypeName","src":"2229:5:88","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":56299,"mutability":"mutable","name":"tickUpper","nameLocation":"2252:9:88","nodeType":"VariableDeclaration","scope":56308,"src":"2246:15:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":56298,"name":"int24","nodeType":"ElementaryTypeName","src":"2246:5:88","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":56301,"mutability":"mutable","name":"salt","nameLocation":"2271:4:88","nodeType":"VariableDeclaration","scope":56308,"src":"2263:12:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":56300,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2263:7:88","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2213:63:88"},"returnParameters":{"id":56305,"nodeType":"ParameterList","parameters":[{"constant":false,"id":56304,"mutability":"mutable","name":"positionKey","nameLocation":"2332:11:88","nodeType":"VariableDeclaration","scope":56308,"src":"2324:19:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":56303,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2324:7:88","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2323:21:88"},"scope":56398,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":56397,"nodeType":"FunctionDefinition","src":"3702:1108:88","nodes":[],"body":{"id":56396,"nodeType":"Block","src":"3915:895:88","nodes":[],"statements":[{"assignments":[56326],"declarations":[{"constant":false,"id":56326,"mutability":"mutable","name":"liquidity","nameLocation":"3933:9:88","nodeType":"VariableDeclaration","scope":56396,"src":"3925:17:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":56325,"name":"uint128","nodeType":"ElementaryTypeName","src":"3925:7:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":56329,"initialValue":{"expression":{"id":56327,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56312,"src":"3945:4:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":56328,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3950:9:88","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":56251,"src":"3945:14:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"3925:34:88"},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":56332,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":56330,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56314,"src":"3974:14:88","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":56331,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3992:1:88","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3974:19:88","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":56355,"nodeType":"Block","src":"4149:91:88","statements":[{"expression":{"id":56353,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":56345,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56312,"src":"4163:4:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":56347,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4168:9:88","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":56251,"src":"4163:14:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":56350,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56326,"src":"4203:9:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":56351,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56314,"src":"4214:14:88","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_int128","typeString":"int128"}],"expression":{"id":56348,"name":"LiquidityMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54471,"src":"4180:13:88","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LiquidityMath_$54471_$","typeString":"type(library LiquidityMath)"}},"id":56349,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4194:8:88","memberName":"addDelta","nodeType":"MemberAccess","referencedDeclaration":54470,"src":"4180:22:88","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_int128_$returns$_t_uint128_$","typeString":"function (uint128,int128) pure returns (uint128)"}},"id":56352,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4180:49:88","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"4163:66:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":56354,"nodeType":"ExpressionStatement","src":"4163:66:88"}]},"id":56356,"nodeType":"IfStatement","src":"3970:270:88","trueBody":{"id":56344,"nodeType":"Block","src":"3995:148:88","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":56335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":56333,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56326,"src":"4069:9:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":56334,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4082:1:88","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4069:14:88","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":56343,"nodeType":"IfStatement","src":"4065:67:88","trueBody":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":56336,"name":"CannotUpdateEmptyPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56249,"src":"4085:25:88","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":56339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4111:8:88","memberName":"selector","nodeType":"MemberAccess","src":"4085:34:88","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":56340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4120:10:88","memberName":"revertWith","nodeType":"MemberAccess","referencedDeclaration":52868,"src":"4085:45:88","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes4_$returns$__$attached_to$_t_bytes4_$","typeString":"function (bytes4) pure"}},"id":56341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4085:47:88","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":56342,"nodeType":"ExpressionStatement","src":"4085:47:88"}}]}},{"id":56383,"nodeType":"UncheckedBlock","src":"4343:305:88","statements":[{"expression":{"id":56368,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":56357,"name":"feesOwed0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56321,"src":"4367:9:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":56363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":56360,"name":"feeGrowthInside0X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56316,"src":"4411:20:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":56361,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56312,"src":"4434:4:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":56362,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4439:24:88","memberName":"feeGrowthInside0LastX128","nodeType":"MemberAccess","referencedDeclaration":56253,"src":"4434:29:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4411:52:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":56364,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56326,"src":"4465:9:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"expression":{"id":56365,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52959,"src":"4476:13:88","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint128_$52959_$","typeString":"type(library FixedPoint128)"}},"id":56366,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4490:4:88","memberName":"Q128","nodeType":"MemberAccess","referencedDeclaration":52958,"src":"4476:18:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":56358,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53137,"src":"4395:8:88","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$53137_$","typeString":"type(library FullMath)"}},"id":56359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4404:6:88","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":53098,"src":"4395:15:88","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":56367,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4395:100:88","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4367:128:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":56369,"nodeType":"ExpressionStatement","src":"4367:128:88"},{"expression":{"id":56381,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":56370,"name":"feesOwed1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56323,"src":"4509:9:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":56376,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":56373,"name":"feeGrowthInside1X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56318,"src":"4553:20:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":56374,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56312,"src":"4576:4:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":56375,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4581:24:88","memberName":"feeGrowthInside1LastX128","nodeType":"MemberAccess","referencedDeclaration":56255,"src":"4576:29:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4553:52:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":56377,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56326,"src":"4607:9:88","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"expression":{"id":56378,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52959,"src":"4618:13:88","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint128_$52959_$","typeString":"type(library FixedPoint128)"}},"id":56379,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4632:4:88","memberName":"Q128","nodeType":"MemberAccess","referencedDeclaration":52958,"src":"4618:18:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":56371,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53137,"src":"4537:8:88","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$53137_$","typeString":"type(library FullMath)"}},"id":56372,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4546:6:88","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":53098,"src":"4537:15:88","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":56380,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4537:100:88","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4509:128:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":56382,"nodeType":"ExpressionStatement","src":"4509:128:88"}]},{"expression":{"id":56388,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":56384,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56312,"src":"4689:4:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":56386,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4694:24:88","memberName":"feeGrowthInside0LastX128","nodeType":"MemberAccess","referencedDeclaration":56253,"src":"4689:29:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":56387,"name":"feeGrowthInside0X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56316,"src":"4721:20:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4689:52:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":56389,"nodeType":"ExpressionStatement","src":"4689:52:88"},{"expression":{"id":56394,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":56390,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56312,"src":"4751:4:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":56392,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4756:24:88","memberName":"feeGrowthInside1LastX128","nodeType":"MemberAccess","referencedDeclaration":56255,"src":"4751:29:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":56393,"name":"feeGrowthInside1X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56318,"src":"4783:20:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4751:52:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":56395,"nodeType":"ExpressionStatement","src":"4751:52:88"}]},"documentation":{"id":56309,"nodeType":"StructuredDocumentation","src":"3068:629:88","text":"@notice Credits accumulated fees to a user's position\n @param self The individual position to update\n @param liquidityDelta The change in pool liquidity as a result of the position update\n @param feeGrowthInside0X128 The all-time fee growth in currency0, per unit of liquidity, inside the position's tick boundaries\n @param feeGrowthInside1X128 The all-time fee growth in currency1, per unit of liquidity, inside the position's tick boundaries\n @return feesOwed0 The amount of currency0 owed to the position owner\n @return feesOwed1 The amount of currency1 owed to the position owner"},"implemented":true,"kind":"function","modifiers":[],"name":"update","nameLocation":"3711:6:88","parameters":{"id":56319,"nodeType":"ParameterList","parameters":[{"constant":false,"id":56312,"mutability":"mutable","name":"self","nameLocation":"3741:4:88","nodeType":"VariableDeclaration","scope":56397,"src":"3727:18:88","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State"},"typeName":{"id":56311,"nodeType":"UserDefinedTypeName","pathNode":{"id":56310,"name":"State","nameLocations":["3727:5:88"],"nodeType":"IdentifierPath","referencedDeclaration":56256,"src":"3727:5:88"},"referencedDeclaration":56256,"src":"3727:5:88","typeDescriptions":{"typeIdentifier":"t_struct$_State_$56256_storage_ptr","typeString":"struct Position.State"}},"visibility":"internal"},{"constant":false,"id":56314,"mutability":"mutable","name":"liquidityDelta","nameLocation":"3762:14:88","nodeType":"VariableDeclaration","scope":56397,"src":"3755:21:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":56313,"name":"int128","nodeType":"ElementaryTypeName","src":"3755:6:88","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":56316,"mutability":"mutable","name":"feeGrowthInside0X128","nameLocation":"3794:20:88","nodeType":"VariableDeclaration","scope":56397,"src":"3786:28:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":56315,"name":"uint256","nodeType":"ElementaryTypeName","src":"3786:7:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":56318,"mutability":"mutable","name":"feeGrowthInside1X128","nameLocation":"3832:20:88","nodeType":"VariableDeclaration","scope":56397,"src":"3824:28:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":56317,"name":"uint256","nodeType":"ElementaryTypeName","src":"3824:7:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3717:141:88"},"returnParameters":{"id":56324,"nodeType":"ParameterList","parameters":[{"constant":false,"id":56321,"mutability":"mutable","name":"feesOwed0","nameLocation":"3885:9:88","nodeType":"VariableDeclaration","scope":56397,"src":"3877:17:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":56320,"name":"uint256","nodeType":"ElementaryTypeName","src":"3877:7:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":56323,"mutability":"mutable","name":"feesOwed1","nameLocation":"3904:9:88","nodeType":"VariableDeclaration","scope":56397,"src":"3896:17:88","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":56322,"name":"uint256","nodeType":"ElementaryTypeName","src":"3896:7:88","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3876:38:88"},"scope":56398,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"Position","contractDependencies":[],"contractKind":"library","documentation":{"id":56243,"nodeType":"StructuredDocumentation","src":"255:201:88","text":"@title Position\n @notice Positions represent an owner address' liquidity between a lower and upper tick boundary\n @dev Positions store additional state for tracking fees owed to the position"},"fullyImplemented":true,"linearizedBaseContracts":[56398],"name":"Position","nameLocation":"464:8:88","scope":56399,"usedErrors":[56249],"usedEvents":[]}],"license":"BUSL-1.1"},"id":88}